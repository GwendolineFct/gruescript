

---


  # this is a test playbook to check things get migrated correctly
  - hosts: servers
    vars:
      myvar: 'Foo bar'
      anothervar: "spam & eggs"   # what about a shruberry ?
      longtext: |
        We can have multiple
        lines strings in YAML
        by doing so
    pre_tasks:
      - name: My first pre task
# *** MIG ***  ERROR : module `obsolete` does not exist in version 5
        obsolete:
          param1: I don't exist, what can I do ?
        when: false
      # don't forget to comment your code
      - name: another pre task
# *** MIG ***  WARNING : Cannot perform migration checks on free-form parameters
        migration.test.freeform: Oh, freedom (freedom), freedom (freedom)
        become: true

        # else it's hard to understand
    role:
      - {role: test}
    tasks:
      - name: a simple task
# *** MIG ***  WARNING : There is a breaking change in the facts returned
# *** MIG ***  WARNING : Please check version 5's documentation for module `migration.test.realfacts`
# *** MIG ***  WARNING : https://docs.ansible.com/ansible/5/collections/migration/test/realfacts_module.html
        migration.test.realfacts:
    post_tasks:
      - name: My first post task
# *** MIG ***  ERROR : missing parameter `param1` is required in version 5
        migration.test.breaking:
# *** MIG ***  ERROR : unknown module parameter `param2` in version 5
          param2: Don't go breaking my heart
      - name: another post task
# *** MIG ***  WARNING : There is a breaking change in the returned values
# *** MIG ***  WARNING : Please check version 5's documentation for module `migration.test.registration`
# *** MIG ***  WARNING : https://docs.ansible.com/ansible/5/collections/migration/test/registration_module.html
        migration.test.registration:
        register: somevar
  # This is the end my friend