---
modules:
  - name: obsolete
    params_source: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string" }

  - name: basic
    fqcn: migration.test.basic
    collection: migration.test
    params_source: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string" }
    params_target: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string" }

  - name: freeform
    fqcn: migration.test.freeform
    collection: migration.test
    params_source: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string" }
      - { name: "free-form", type: "raw" }
    params_target: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string" }
      - { name: "free-form", type: "string" }

  - name: breaking
    fqcn: migration.test.breaking
    collection: migration.test
    params_source: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string" }
    params_target: 
      - { name: "param1", type: "string", required: True }

  - name: default
    fqcn: migration.test.default
    collection: migration.test
    params_source: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string", default: "Knight" }
    params_target: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string", default: "None" }

  - name: choices
    fqcn: migration.test.choices
    collection: migration.test
    params_source: 
      - { name: "param0", type: "string", choices: ["spam", "eggs"] }
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string", choices: ["foo", "bar", "spam", "eggs"] }
    params_target: 
      - { name: "param0", type: "string", choices: ["spam", "eggs"] }
      - { name: "param1", type: "string", choices: ["witch", "shruberry"] }
      - { name: "param2", type: "string", choices: ["spam", "eggs"] }

  - name: types
    fqcn: migration.test.types
    collection: migration.test
    params_source: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string" }
    params_target: 
      - { name: "param1", type: "integer" }
      - { name: "param2", type: "dictionary" }

  - name: registration
    fqcn: migration.test.registration
    collection: migration.test
    params_source: 
      - { name: "param1", type: "string" }
      - { name: "param2", type: "string" }
    return_source:
      - { name: "result1", type: "string" }
      - { name: "result2", type: "string" }
    params_target: 
      - { name: "param1", type: "integer" }
      - { name: "param2", type: "dictionary" }
    return_target:
      - { name: "result1", type: "string" }

  - name: realfacts
    fqcn: migration.test.realfacts
    collection: migration.test
    params_source: 
      - { name: "param1", type: "boolean" }
    facts_source:
      - { name: "result1", type: "string" }
      - { name: "result2", type: "string" }
    params_target: 
      - { name: "param1", type: "boolean" }
    facts_target:
      - { name: "result1", type: "string" }